1
00:00:08,040 --> 00:00:10,034
네, 안녕하십니까?

2
00:00:10,034 --> 00:00:13,920
우분투 한국 사용자 모임에서 활동 중인 조병승입니다.

3
00:00:13,920 --> 00:00:22,034
지금부터 Ubucon Asia 2021 'If you need LAMP Stack, Journey to Ubuntu with WSL2' 

4
00:00:22,034 --> 00:00:27,034
라이트닝 토크 세션을 시작하겠습니다.

5
00:00:29,200 --> 00:00:35,834
제가 WSL에 우분투를 올려서 만들고자 했던거는, 그냥 간단한 워드프레스 사이트 한 개였어요.

6
00:00:35,867 --> 00:00:42,034
이 워드프레스 사이드를 만드려고 기본 스택을 먼저 소개를 드릴게요.

7
00:00:44,019 --> 00:00:49,934
먼저 제가 선택한 LAMP Stack 자체는 Ubuntu OS 에 웹서버 nginx를 올리고,

8
00:00:49,934 --> 00:00:53,034
데이터베이스는 Maria DB에, 그리고 이제 PHP

9
00:00:53,034 --> 00:00:58,000
이렇게 워드프레스 위에서 필요한 기본 구성은 이렇게 딱 선택을 했구요

10
00:00:58,000 --> 00:01:01,367
이거를 이제 라이브에서 이렇게 서버에서 쓰겠지만

11
00:01:01,367 --> 00:01:06,700
일단 서버 올리기 전에 로컬에서 먼저 좀 더 편하게 작업을
하고 싶었는데

12
00:01:06,700 --> 00:01:11,500
제가 이제 윈도우 사용자이다 보니 이 윈도우가 깔려있는 노트북에

13
00:01:11,500 --> 00:01:22,034
'어떻게 하면 서버와 좀 더 근접한 환경을 편하게 쓸 수 있게 만들 수 있을까'가 이제 제가 처음에 떠올렸던 생각이었고요.

14
00:01:22,119 --> 00:01:27,667
그러다 보니 이제 뭐 Virtualbox 나 아니면 뭐 VM Ware 뭐 등등등 

15
00:01:27,667 --> 00:01:35,200
이제 지금 나중에 이제 Multi-pass 도 같이 쓰긴 했지만, 이제 어쨌든 WSL2를 써서 하는게 제일 편했다.

16
00:01:35,200 --> 00:01:37,034
간단한 작업에서는

17
00:01:37,034 --> 00:01:39,034
그 이야기를 드리고 싶습니다.

18
00:01:39,200 --> 00:01:44,334
뒤에서 나올 내용은 'WSL2를 이제 우분투를 어떻게 쓰느냐'의 내용이 아니라

19
00:01:44,334 --> 00:01:49,800
쓰면서 잠깐잠깐 좀 많이 막혔던 설치과정이라던가 어떤 팁들이 있었거든요.

20
00:01:49,800 --> 00:01:54,630
그래서 그거를 간단하게 공유 드릴 예정입니다.

21
00:01:56,080 --> 00:01:59,034
일단 절대 놓치지 말아야 되는 팁 2개가 있습니다. 

22
00:01:59,034 --> 00:02:07,034
하나는 윈도우 탐색기에서 WSL 안에 있는 우분투에 다이렉트로 파일을 넣고 빼고를 할 수 있다라는 것, 이거가 하나가 있고요.

23
00:02:07,034 --> 00:02:10,367
이 주소가 이제 절대 이제 편하게 잘 쓸 수 있는거고요.

24
00:02:10,367 --> 00:02:22,034
그 다음이 이제 WSL 안에서 그냥 코드, 파일명, 딱 그 폴더 쳐버리면 Visual Studio Code 에디터가 바로 실행이 되거든요.

25
00:02:22,034 --> 00:02:32,700
Visual Studio Code 자체는 윈도우에 깔려있는 거고, 그러다 보니 간단하게 헤더파일을 바꾼다거나 CSS의 어떤 잠깐 땡겼다 줄였다 하는 것들 설정을 바로바로 할 수 있어서

26
00:02:32,700 --> 00:02:43,034
이 두개는 말 그대로 이제 정말 간편하게 퀵 가이드 처럼 있는 팁이니니까, 이거는 아마 두고두고 알아두시면 편하게 금방금방 고칠 수 있습니다.

27
00:02:45,034 --> 00:02:51,034
WSL2를 쓰려고 할 때, 꼭 먼저 체크해 되는게 윈도우10 버전입니다.

28
00:02:51,034 --> 00:02:54,600
뭐 윈도우11 지금 프리뷰 버전 쓰시거나 이럴 때에는 전혀 상관이 없고요.

29
00:02:54,634 --> 00:02:59,534
다만 10 일 때에 제일 주의할 점이 다른거 보다 이 세 번째 줄입니다.

30
00:02:59,534 --> 00:03:06,534
OS 빌드의 버전이 보면, 앞 다섯 자리,  뒤에 이제 세 자리 또는 네 자리가 있는데요, 왠만하면 다 맞아요.

31
00:03:06,534 --> 00:03:08,700
그냥 업데이트를 다 최신으로 땡기시면 됩니다.

32
00:03:08,700 --> 00:03:17,034
근데 이 뒷 자리 부분이, 이제 1049라는 것 보다 이상이 돼야 되는데, 간혹 세 자리일 때가 있어요.

33
00:03:17,150 --> 00:03:23,034
이게 세 자리면 나머지 조건이 다 맞아도 WSL2가 절대로 활성화가 되지 않더라고요.

34
00:03:23,034 --> 00:03:31,400
그래서 그 활성화에 걸림돌이 제 큰 부분은 그 부분이니까 그거 잊지 말고 꼭 챙기시기 바랍니다.

35
00:03:33,510 --> 00:03:41,767
네, 처음에 이야기 했던 것 중에 이제 윈도우 탐색기에서 우분투의 폴더로 바로 파일을 주고받을 수 있다고 했는데요, 그 역방향도 있습니다.

36
00:03:41,767 --> 00:03:49,167
그러니까 우분투에서 보면, 윈도우 로컬 드라이브로 바로 마운트 디렉터리에서 이렇게 바로 들어갈 수가 있는데요.

37
00:03:49,200 --> 00:03:52,067
그렇게 작업을 해도 충분히 다 상관은 없습니다.

38
00:03:52,067 --> 00:04:00,700
다만, 그렇게 붙어 있는 최초 상태는 이제 chmod 나 chown을 실행할 수가 없어요.

39
00:04:00,700 --> 00:04:04,567
그걸 실행을 해도 고난이 바뀌거나 설정이 바뀌질 않습니다.

40
00:04:04,920 --> 00:04:12,367
그거를 바꾸려면, 이제 일단 우분투에서 그 마운트 드라이브 자체를 unmount를 하고요.

41
00:04:12,367 --> 00:04:22,367
그 다음에 unmount가 끝난 상태에서 다시 마운트를 걸 때, 메타 데이터 값이랑 그 다음에 설정 값을 같이 걸어서 이제 다시 마운트를 걸어주면

42
00:04:22,400 --> 00:04:29,034
그게 곧, 사용자 권한이라던가 뭐 이런 것들을 바꿀 수 있게 설정이 잡히거든요.

43
00:04:29,034 --> 00:04:33,867
그렇게 해서 쓸 수 있으니까 이거 잡아 놓으면 생각보다 또 많이 편합니다. 

44
00:04:33,867 --> 00:04:37,100
Ubuntu 안에서 또 윈도우 탐색기 조차 실행하는데 귀찮을 때가
있어요.

45
00:04:37,100 --> 00:04:41,934
혹은 폴더 자체를 또 네트워크 타고 들어오고 이런거 귀찮을 수가 있으니까.

46
00:04:41,934 --> 00:04:45,167
네, 이것도 하나로 알아 두시면 알아두시면 좋을 것 같습니다.

47
00:04:47,470 --> 00:04:50,667
네, 다음은 제가 또 저한테만 있는 습관일 수도 있습니다.

48
00:04:50,667 --> 00:04:59,467
원래 제가 AWS나 Azure나 이런 클라우드에서 IaaS로 쓸 때에는 그냥 한번 setup하다가 서버 값 잘못 잡았을 때

49
00:04:59,467 --> 00:05:04,467
그냥 terminate 시켜버리고 새로히 생성하고 이걸 반복을 했었거든요.

50
00:05:04,467 --> 00:05:08,867
근데 그 버릇 그대로 이제 WSL2에서도 바로 쓰다가

51
00:05:08,867 --> 00:05:13,867
그냥 '어 설정 잘못 잡았는데 되돌리기 귀찮아' 그러면 그냥 설치 자체가 워낙 간편하니까

52
00:05:13,867 --> 00:05:18,367
그냥 다시 MS 스토어 들어가서 우분투 설치 누르고 이렇게 계속 우분투 썼었거든요.

53
00:05:19,034 --> 00:05:21,534
이렇게 쓰다보니 설치 삭제를 계속 반복하게 돼요.

54
00:05:22,034 --> 00:05:25,034
설치 삭제를 계속 10번 20번이고 반복하다 보면

55
00:05:25,034 --> 00:05:31,334
나중에는 MS 스토어가 내가 분명 우분투를 깔끔하게 지웠는데 불구하고, 이제 오류가 딱 뜹니다.

56
00:05:31,700 --> 00:05:34,400
그래서 설치가 진행이 안돼요.

57
00:05:34,700 --> 00:05:38,700
이때는, 이제 뭐 재부팅을 해서 해결하는 방법도 있습니다.

58
00:05:38,814 --> 00:05:42,367
근데 재부팅을 해도 나중에 또 안될 때가 생기거든요. 

59
00:05:42,367 --> 00:05:50,634
그럴 때는 우분투가 아니라, 이제 MS 스토어에 가서 초기화를, MS 스토어에서 이제 앱 데이터를 초기화를 하면

60
00:05:50,634 --> 00:05:53,534
이제 전혀 문제 없이 설치를 할 수 있습니다.

61
00:05:53,634 --> 00:06:00,034
이게 '설치가 왜 안되지 왜 안되지? WSL2가 잘못 된거야? 뭐가 잘못 된거야?' 이렇게 혼란을 겪지 마시라고

62
00:06:00,034 --> 00:06:03,034
네, 이런 팁을 한번 또 찾아 봤습니다.

63
00:06:05,370 --> 00:06:15,634
그리고 이제 이 로컬, WSL2가 있는 로컬 자체를, 이건 뭐 WSL1에서도 마찬가지 인데요, 재부팅을 하면 꼭 해야되는게 있습니다.

64
00:06:16,200 --> 00:06:16,867
우리가 하고 있는거는,

65
00:06:16,867 --> 00:06:20,934
아 뭐, 제가 하고 있는거는 LAMP Stack이기 때문에

66
00:06:20,934 --> 00:06:29,867
이게 원래는 자동으로 항상 status가 서비스 중일 줄 알았는데, running 중일 줄 알았는데, 이제 재부팅을 하면 항상 얘가 꺼져있더라고요.

67
00:06:29,867 --> 00:06:41,034
그래서 그 때는 항상 커멘드, 쉘을 실행해서 그냥 바로 그냥 커멘드 창에서 'wsl sudo service nginx start' 이렇게 치면 바로 먹거든요, 명령어를.

68
00:06:41,034 --> 00:06:48,034
그래서 재부팅을 하고 나서는 항상 이거를 꼭 올려줘야 홈페이지를 쓸 수 있다.

69
00:06:48,034 --> 00:06:50,100
에, 이렇게 보시면 될 것 같습니다.

70
00:06:50,100 --> 00:06:57,700
이렇게 안하고서 그냥 '어, 갑자기 재부팅하고나서 접속이 안되네, 홈페이지 안들어가지네?' 그냥 이게 실행이 안된겁니다.

71
00:06:57,700 --> 00:07:06,034
그래서 서버가 안올라가 있어서 그런거니까 그때는 서버를 꼭 올려줘 있는지 확인을 한번 씩 해보시면 좋습니다.

72
00:07:08,120 --> 00:07:12,830
일련 팁들을 통해서, 이제 일단 세팅을 마쳤습니다.

73
00:07:12,830 --> 00:07:16,034
세팅을 맞춰서 이제 워드프레스 사이트를, 뷰를 볼 수 있었고요.

74
00:07:16,034 --> 00:07:19,434
그 뷰가 되면 사실은 이제 정말 끝인가?

75
00:07:19,434 --> 00:07:27,034
이제 WSL2를 쓰는 문제가 아니라 이제 홈페이지를 만드는 자체는 사실 끝이 아니죠? 그래서

76
00:07:27,034 --> 00:07:34,367
그 뒤로도 이제 사실은 저는 또 어떤 테마 세팅이라던가 어떤 나머지 세팅들을 더 홈페이지에 더 올려야 돼서.

77
00:07:34,400 --> 00:07:37,534
네, 또 새로운 journey를 시작해야 되죠.

78
00:07:37,534 --> 00:07:47,400
그래도 이제 WSL2가 있어서, 이까지 되게 좀 제가 이런저런 설정들을 많이 낯설어 했었는데, 낯설지 않게 바로바로 올 수 있었고, 그래서

79
00:07:47,400 --> 00:07:53,240
메뉴얼도 만들 수 있고, 네, 많이 변하게 올 수 있었습니다.

80
00:07:54,770 --> 00:07:58,367
짧은 라이트닝 토크라서, 뭐 이렇게 자세한 설명을 하기 보다

81
00:07:58,367 --> 00:08:01,900
저도 이렇게 기술적으로 엄청 막 자세하게 알고 이런게 아니거든요?

82
00:08:02,034 --> 00:08:09,034
그래서, 그래도 이제 방금 제가 몇 개 pick한 팁이 꼭 많은 도움이 됐으면 좋겠고요. 

83
00:08:09,034 --> 00:08:16,167
혹시라도 뭐 이런거 보시고, 이 영상의 이후에 어떤 피드백이라던가 다른 질문 있으시면, 

84
00:08:16,167 --> 00:08:22,034
그 뭐, 페이스북 채널이던 어떻게, 한국 우분투 사용자 모임을 통해서 질문을 올려주시거나 하면, 

85
00:08:22,034 --> 00:08:27,034
뭐 저도 제가 아는건 최대한 잘 성심성의껏 답변드리도록 하겠습니다.

86
00:08:27,034 --> 00:08:29,767
네, 이상 라이트닝 토크 마치겠습니다.

87
00:08:29,767 --> 00:08:31,767
감사합니다.

